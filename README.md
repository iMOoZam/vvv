# تک‌شاپ - TechShop

فروشگاه سخت افزار کامپیوتر با سیستم احراز هویت MongoDB

## ویژگی‌ها

✅ **احراز هویت کامل** - ثبت نام، ورود و خروج  
✅ **پنل مدیریت** - مدیریت کاربران و محصولات  
✅ **امنیت بالا** - رمزگذاری رمز عبور و JWT  
✅ **پایگاه داده MongoDB** - ذخیره‌سازی امن و قابل اعتماد  
✅ **رابط کاربری فارسی** - طراحی زیبا و کاربرپسند  
✅ **API RESTful** - API کامل برای مدیریت داده‌ها

## پیش‌نیازها

- Node.js (نسخه 14 یا بالاتر)
- MongoDB (نسخه 4.4 یا بالاتر)
- npm یا yarn

## نصب و راه‌اندازی

### 1. نصب وابستگی‌ها

```bash
npm install
```

### 2. تنظیم متغیرهای محیطی

فایل `config.env` را ویرایش کنید:

```env
MONGODB_URI=mongodb://localhost:27017/techshop
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
PORT=3000
```

### 3. راه‌اندازی MongoDB

مطمئن شوید که MongoDB در حال اجرا است:

```bash
# در Windows
mongod

# در macOS/Linux
sudo systemctl start mongod
```

### 4. اجرای سرور

```bash
# حالت توسعه
npm run dev

# حالت تولید
npm start
```

سرور در آدرس `http://localhost:3000` اجرا می‌شود.

## ساختار پروژه

```
techshop/
├── server.js              # سرور Express
├── package.json           # وابستگی‌های Node.js
├── config.env            # متغیرهای محیطی
├── index.html            # صفحه اصلی
├── login.html            # صفحه ورود
├── register.html         # صفحه ثبت نام
├── admin.html            # پنل مدیریت
├── login.js              # منطق ورود (فرانت‌اند)
├── register.js           # منطق ثبت نام (فرانت‌اند)
├── user-management.js    # مدیریت کاربران (فرانت‌اند)
├── admin.js              # پنل مدیریت (فرانت‌اند)
├── script.js             # منطق اصلی سایت
├── styles.css            # استایل‌های CSS
└── README.md             # راهنمای پروژه
```

## API Endpoints

### احراز هویت

- `POST /api/register` - ثبت نام کاربر جدید
- `POST /api/login` - ورود کاربر
- `GET /api/user` - دریافت اطلاعات کاربر فعلی

### مدیریت کاربران (فقط مدیر)

- `GET /api/users` - دریافت لیست تمام کاربران
- `DELETE /api/users/:id` - حذف کاربر

### مدیریت محصولات

- `GET /api/products` - دریافت لیست محصولات
- `POST /api/products` - افزودن محصول جدید (فقط مدیر)
- `DELETE /api/products/:id` - حذف محصول (فقط مدیر)

## کاربران پیش‌فرض

### مدیر سیستم

- **نام کاربری:** `admin`
- **رمز عبور:** `admin123`
- **نقش:** مدیر

### کاربر عادی

- **نام کاربری:** `user`
- **رمز عبور:** `user123`
- **نقش:** کاربر

## امنیت

- رمزهای عبور با bcrypt رمزگذاری می‌شوند
- احراز هویت با JWT انجام می‌شود
- اعتبارسنجی ورودی‌ها در سمت سرور
- محافظت از مسیرهای حساس با middleware

## ویژگی‌های امنیتی

✅ **رمزگذاری رمز عبور** - استفاده از bcrypt  
✅ **توکن JWT** - احراز هویت امن  
✅ **اعتبارسنجی ورودی** - محافظت در برابر حملات  
✅ **کنترل دسترسی** - محدودیت دسترسی بر اساس نقش  
✅ **CORS** - محافظت از درخواست‌های متقاطع

## توسعه

### افزودن ویژگی جدید

1. **Backend:** API endpoint جدید در `server.js`
2. **Frontend:** رابط کاربری در فایل‌های HTML/JS
3. **Database:** Schema جدید در MongoDB

### تست

```bash
# تست سرور
curl http://localhost:3000/api/products

# تست احراز هویت
curl -X POST http://localhost:3000/api/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'
```

## عیب‌یابی

### مشکلات رایج

1. **خطای اتصال MongoDB:**

   - مطمئن شوید MongoDB در حال اجرا است
   - آدرس اتصال را در `config.env` بررسی کنید

2. **خطای CORS:**

   - مطمئن شوید سرور در حال اجرا است
   - آدرس API را بررسی کنید

3. **خطای احراز هویت:**
   - توکن JWT را بررسی کنید
   - مطمئن شوید کاربر در سیستم ثبت شده است

## مشارکت

برای مشارکت در پروژه:

1. پروژه را fork کنید
2. شاخه جدید ایجاد کنید
3. تغییرات خود را commit کنید
4. Pull Request ارسال کنید

## مجوز

این پروژه تحت مجوز MIT منتشر شده است.

## پشتیبانی

برای سوالات و مشکلات:

- ایمیل: support@techshop.ir
- تلگرام: @techshop_support

---

**تک‌شاپ** - بهترین فروشگاه سخت افزار کامپیوتر
